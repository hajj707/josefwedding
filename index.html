<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Joseph & Anna‚ÄëMaria ‚Äî Wedding Invitation</title>
  <meta name="description" content="Wedding invitation for Joseph Gemayel & Anna‚ÄëMaria Elias ‚Äî mobile swipe experience with music, countdown, and RSVP." />

  <!-- Optional: fonts similar to the reference (adjust if you know the exact font) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#ffffff;
      --muted: rgba(255,255,255,.78);
      --bg-dark: rgba(0,0,0,.36);
      --bg-darker: rgba(0,0,0,.48);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji','Segoe UI Emoji', sans-serif;
      color:#fff; background:#000; overflow:hidden;
    }

    /* Background slideshow */
    .bg{
      position:fixed; inset:0; z-index:-1; overflow:hidden;
    }
    .bg img{ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity .8s ease-in-out; filter:contrast(1.05) saturate(1.05); }
    .bg img.active{ opacity:1; }
    .bg::after{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.45)); }

    /* Swipe container */
    .slider{ position:relative; height:100dvh; width:100vw; touch-action:pan-y; }
    .slides{ display:flex; height:100%; width:700vw; transition:transform .45s ease; }
    .slide{ position:relative; width:100vw; height:100%; padding:24px 18px env(safe-area-inset-bottom); display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; }

    /* Top titles (display font) */
    .title{ font-family:'Playfair Display', Georgia, serif; letter-spacing:.5px; }
    .title.lg{ font-weight:700; font-size:44px; line-height:1.08; }
    .title.md{ font-weight:600; font-size:28px; }
    .title.sm{ font-weight:600; font-size:20px; }

    .muted{ color:var(--muted); }
    .chip{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; background:var(--bg-dark); border-radius:999px; font-size:12px; letter-spacing:.4px; text-transform:uppercase; }
    .card{ background:var(--bg-darker); border-radius:18px; padding:16px 14px; box-shadow:0 6px 20px rgba(0,0,0,.2); }
    .grid{ display:grid; gap:10px; grid-template-columns:1fr 1fr; }

    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 16px; border-radius:12px; background:#ffffff; color:#000; font-weight:600; text-decoration:none; }
    .btn.ghost{ background:transparent; color:#fff; border:1px solid rgba(255,255,255,.5); }

    .footer{ position:absolute; left:0; right:0; bottom:16px; font-size:12px; opacity:.8; text-align:center; }

    /* Dots (7 slides) */
    .dots{ position:absolute; left:0; right:0; bottom:12px; display:flex; justify-content:center; gap:6px; }
    .dot{ width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,.35);} 
    .dot.active{ background:#fff; }

    /* Countdown */
    .countdown{ display:flex; gap:6px; justify-content:center; margin-top:14px; }
    .count{ min-width:64px; padding:10px 8px; border-radius:12px; background:var(--bg-dark); }
    .count h3{ margin:0; font-family:'Playfair Display', Georgia, serif; font-size:22px; }
    .count p{ margin:2px 0 0; font-size:11px; letter-spacing:.35px; text-transform:uppercase; opacity:.8; }

    /* Form */
    form{ display:grid; gap:10px; width:min(520px, 100%); margin:0 auto; text-align:left; }
    label{ font-size:12px; opacity:.9; }
    input, select, textarea{ width:100%; padding:12px 13px; border-radius:12px; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.06); color:#fff; font-size:16px; }
    textarea{ min-height:104px; resize:vertical; }

    /* Start overlay (tap to start like the reference) */
    .start-overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px; background:rgba(0,0,0,.82); z-index:50; text-align:center; }
    .pulse{ width:64px; height:64px; border-radius:999px; background:rgba(255,255,255,.1); display:grid; place-items:center; animation:pulse 1.8s infinite; }
    @keyframes pulse{ 0%{transform:scale(.96);} 50%{transform:scale(1);} 100%{transform:scale(.96);} }

    /* Icons (simple text placeholders to keep it from external assets) */
    .icon{ font-size:20px; margin-right:6px; }

    /* Safe spacing on very small devices */
    @media (max-width:360px){
      .title.lg{ font-size:38px; }
      .title.md{ font-size:24px; }
    }
  </style>
</head>
<body>
  <!-- Background slideshow images (replace with your images under /images) -->
  <div class="bg" aria-hidden="true">
    <img src="images/bg1.jpg" alt="" class="active" />
    <img src="images/bg2.jpg" alt="" />
    <img src="images/bg3.jpg" alt="" />
    <img src="images/bg4.jpg" alt="" />
  </div>

  <!-- Background music -->
  <audio id="bgm" src="invite-music.mp3" preload="auto" loop autoplay playsinline></audio>

  
    <div class="title md">Tap to start</div>
    <div class="muted" style="font-size:12px;">Swipe left for the next section</div>
  </div>

  <!-- Slider with exactly 7 slides, mimicking the reference structure -->
  <main class="slider" id="slider" role="region" aria-roledescription="carousel" aria-label="Wedding invitation">
    <section class="slides" id="slides" aria-live="polite">

      <!-- 1. Intro screen -->
      <article class="slide" aria-label="Intro">
        <div class="chip">With love</div>
        <h1 class="title lg" style="margin:10px 0 6px;">Joseph <span class="muted">&</span> Anna‚ÄëMaria</h1>
        <div class="title sm muted">are getting married</div>
        <div class="countdown" id="countdown">
          <div class="count"><h3 id="cd-days">0</h3><p>Days</p></div>
          <div class="count"><h3 id="cd-hours">0</h3><p>Hours</p></div>
          <div class="count"><h3 id="cd-mins">0</h3><p>Minutes</p></div>
          <div class="count"><h3 id="cd-secs">0</h3><p>Seconds</p></div>
        </div>
      </article>

      <!-- 2. Verse / quote (optional like the reference) -->
      <article class="slide" aria-label="Verse">
        <div class="card">
          <div class="title md">"This is my commandment: Love one another as I love you."</div>
          <div class="muted" style="margin-top:8px;">‚Äî John 15:12</div>
        </div>
      </article>

      <!-- 3. Families & invitation text -->
      <article class="slide" aria-label="Invitation">
        <div class="muted">With joyous hearts, the families</div>
        <h2 class="title md" style="margin:6px 0 2px;">Gemayel & Elias</h2>
        <div class="muted">request your presence to attend the wedding of</div>
        <h3 class="title lg" style="margin:14px 0 6px;">Joseph & Anna‚ÄëMaria</h3>
        <div class="title sm">on December 6, 2025</div>
        <div class="muted">at 18:30</div>
      </article>

      <!-- 4. Ceremony details -->
      <article class="slide" aria-label="Ceremony details">
        <h3 class="title md" style="margin-bottom:10px;">Wedding Ceremony</h3>
        <div class="card" style="width:min(520px,92%); text-align:left;">
          <div class="grid">
            <div>
              <div><span class="icon">üìÖ</span><strong>Friday</strong></div>
              <div class="muted">December 6, 2025</div>
            </div>
            <div>
              <div><span class="icon">‚è∞</span><strong>18:30</strong></div>
              <div class="muted">Beirut time</div>
            </div>
            <div style="grid-column:1/-1; margin-top:6px;">
              <div><span class="icon">üìç</span><strong>ŸÉŸÜŸäÿ≥ÿ© ŸÖÿßÿ± ŸÅŸàŸÇÿß ÿ∫ÿØŸäÿ±</strong></div>
              <div class="muted">Ghadir</div>
            </div>
          </div>
          <div style="margin-top:12px; display:flex; gap:10px;">
            <a class="btn" target="_blank" rel="noopener" href="https://maps.app.goo.gl/maT4gYYdBWh6UuLH7">Open Map</a>
            <a class="btn ghost" href="#" onclick="copyToClipboard('https://maps.app.goo.gl/maT4gYYdBWh6UuLH7'); return false;">Copy Link</a>
          </div>
        </div>
      </article>

      <!-- 5. Sword Ceremony (ÿ¥ÿ®ŸÉ ÿßŸÑÿ≥ŸäŸàŸÅ) -->
      <article class="slide" aria-label="Sword ceremony">
        <h3 class="title md" style="margin-bottom:10px;">ÿ¥ÿ®ŸÉ ÿßŸÑÿ≥ŸäŸàŸÅ</h3>
        <div class="card" style="width:min(520px,92%); text-align:left;">
          <div class="grid">
            <div>
              <div><span class="icon">üìÖ</span><strong>Friday</strong></div>
              <div class="muted">December 6, 2025</div>
            </div>
            <div>
              <div><span class="icon">‚è∞</span><strong>19:30</strong></div>
              <div class="muted">After Ceremony</div>
            </div>
          </div>
        </div>
      </article>

      <!-- 6. Wedding Party / Reception -->
      <article class="slide" aria-label="Reception details">
        <h3 class="title md" style="margin-bottom:10px;">Wedding Party</h3>
        <div class="card" style="width:min(520px,92%); text-align:left;">
          <div class="grid">
            <div>
              <div><span class="icon">üìÖ</span><strong>Friday</strong></div>
              <div class="muted">December 6, 2025</div>
            </div>
            <div>
              <div><span class="icon">‚è∞</span><strong>21:00</strong></div>
              <div class="muted">Reception begins</div>
            </div>
            <div style="grid-column:1/-1; margin-top:6px;">
              <div><span class="icon">üìç</span><strong>ŸÜÿßÿØŸä ÿßŸÑÿ∂ÿ®ÿßÿ∑ ÿ¨ŸàŸÜŸäÿ©</strong></div>
              <div class="muted">Jounieh, Lebanon</div>
            </div>
          </div>
          <div style="margin-top:12px; display:flex; gap:10px;">
            <a class="btn" target="_blank" rel="noopener" href="https://maps.app.goo.gl/ykKRpVrUQr2jbCAt5">Open Map</a>
            <a class="btn ghost" href="#" onclick="copyToClipboard('https://maps.app.goo.gl/ykKRpVrUQr2jbCAt5'); return false;">Copy Link</a>
          </div>
        </div>
      </article>

      <!-- 7. RSVP form (Formspree) -->
      <article class="slide" aria-label="RSVP">
        <h3 class="title md" style="margin-bottom:6px;">RSVP</h3>
        <div class="muted" style="margin-bottom:12px;">Kindly reply as soon as possible ‚Äî Number of invitees: 2</div>
        <form id="rsvp" action="https://formspree.io/f/mblzazgw" method="POST">
          <input type="hidden" name="invite" value="Joseph & Anna‚ÄëMaria ‚Äî 6 Dec 2025" />
          <label>Full Name<input required name="name" placeholder="Your name" /></label>
          <label>Phone Number<input required name="phone" inputmode="tel" placeholder="e.g., +961 ‚Ä¶" /></label>
          <label>Attendance
            <select name="attending" required>
              <option value="Attending">Attending</option>
              <option value="Not Attending">Not Attending</option>
            </select>
          </label>
          <label>Number of Guests Attending
            <select name="guests" required>
              <option>1</option>
              <option>2</option>
            </select>
          </label>
          <label>Message (optional)
            <textarea name="message" placeholder="Any note or dietary needs‚Ä¶"></textarea>
          </label>
          <button class="btn" type="submit">Press To Confirm</button>
        </form>
        <div id="thanks" class="card" style="display:none; margin-top:10px;">Thank you! Your RSVP has been received.</div>

        <div class="footer muted">‚ô° Together forever ‚ô° ‚Ä¢ Made with love</div>
      </article>

    </section>
    <!-- Slide dots -->
    <div class="dots" aria-hidden="true">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </main>

  <script>
    // ===== Config =====
    const WEDDING_ISO = '2025-12-06T18:30:00+02:00'; // Asia/Beirut (UTC+02 in Dec)
    const FORM_ENDPOINT = 'https://formspree.io/f/mblzazgw'; // <- replace with your real Formspree endpoint
    const images = [
      'images/bg1.jpg',
      'images/bg2.jpg',
      'images/bg3.jpg',
      'images/bg4.jpg'
    ];

    // ===== Background slideshow =====
    const bgImgs = Array.from(document.querySelectorAll('.bg img'));
    let bgIndex = 0;
    setInterval(() => {
      bgImgs[bgIndex].classList.remove('active');
      bgIndex = (bgIndex + 1) % bgImgs.length;
      bgImgs[bgIndex].classList.add('active');
    }, 5000);

    // ===== Autoplay music (no blocking overlay)
    const audio = document.getElementById('bgm');
    const resumeAudio = () => { audio.play().catch(()=>{}); };
    // Try immediately
    resumeAudio();
    // Fallback: begin on first interaction (no overlay)
    ['touchstart','mousedown','keydown'].forEach(ev=>{
      window.addEventListener(ev, function once(){ resumeAudio(); window.removeEventListener(ev, once); }, {passive:true});
    }); });

    // ===== Slider logic (7 slides) =====
    const slidesEl = document.getElementById('slides');
    const dots = Array.from(document.querySelectorAll('.dot'));
    let index = 0; let startX = 0; let currentX = 0; let dragging=false;

    function updateSlider(){
      slidesEl.style.transform = `translateX(-${index * 100}vw)`;
      dots.forEach((d,i)=>d.classList.toggle('active', i===index));
    }
    updateSlider();

    const slider = document.getElementById('slider');
    slider.addEventListener('touchstart', (e)=>{ dragging=true; startX = e.touches[0].clientX; currentX=startX; }, {passive:true});
    slider.addEventListener('touchmove', (e)=>{ if(!dragging) return; currentX = e.touches[0].clientX; }, {passive:true});
    slider.addEventListener('touchend', ()=>{
      if(!dragging) return; dragging=false;
      const dx = currentX - startX;
      if (dx < -40 && index < 6) index++; // swipe left
      else if (dx > 40 && index > 0) index--; // swipe right
      updateSlider();
    });

    // Also allow left/right arrow keys (desktop testing)
    window.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowLeft' && index>0){ index--; updateSlider(); }
      if(e.key==='ArrowRight' && index<6){ index++; updateSlider(); }
    });

    // ===== Countdown timer =====
    const dEl = document.getElementById('cd-days');
    const hEl = document.getElementById('cd-hours');
    const mEl = document.getElementById('cd-mins');
    const sEl = document.getElementById('cd-secs');

    function pad(n){ return String(n).padStart(2,'0'); }

    function tick(){
      const now = new Date();
      const target = new Date(WEDDING_ISO);
      let diff = Math.max(0, target - now);
      const days = Math.floor(diff / (1000*60*60*24)); diff -= days*(1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60)); diff -= hours*(1000*60*60);
      const mins = Math.floor(diff / (1000*60)); diff -= mins*(1000*60);
      const secs = Math.floor(diff / 1000);
      dEl.textContent = days; hEl.textContent = pad(hours); mEl.textContent = pad(mins); sEl.textContent = pad(secs);
    }
    tick(); setInterval(tick, 1000);

    // ===== Copy to clipboard helper =====
    function copyToClipboard(text){
      navigator.clipboard?.writeText(text).then(()=>{
        const t = document.createElement('div');
        t.textContent = 'Link copied';
        t.style.cssText='position:fixed;left:50%;top:12px;transform:translateX(-50%);background:#111;color:#fff;padding:8px 12px;border-radius:10px;opacity:.95;z-index:60';
        document.body.appendChild(t); setTimeout(()=>t.remove(), 1800);
      });
    }
    window.copyToClipboard = copyToClipboard;

    // ===== Formspree hook (AJAX submit; still works without JS) =====
    const form = document.getElementById('rsvp');
    form.setAttribute('action', FORM_ENDPOINT);
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const data = new FormData(form);
      try{
        const res = await fetch(FORM_ENDPOINT, { method:'POST', body:data, headers:{ 'Accept':'application/json' } });
        if (res.ok){ form.reset(); document.getElementById('thanks').style.display = 'block'; }
        else{ alert('There was a problem. Please try again.'); }
      }catch(err){ alert('Network error. Please try again.'); }
    });
  </script>
</body>
</html>
