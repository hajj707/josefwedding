<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Joseph & Anna‚ÄëMaria ‚Äî Wedding Invitation</title>
  <meta name="description" content="Mobile swipe wedding invitation with music, menu, maps, and RSVP (Formspree)." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --muted: rgba(255,255,255,.78);
      --panel: rgba(0,0,0,.55);
      --panel2: rgba(0,0,0,.40);
      --border: rgba(255,255,255,.75);
      --dots-y: 48px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji',sans-serif;color:#fff;background:#000;overflow:hidden;-webkit-tap-highlight-color: transparent}

    /* Background slideshow */
    .bg{position:fixed;inset:0;z-index:-2;overflow:hidden}
    .bg img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .8s ease}
    .bg img.active{opacity:1}
    .bg::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.45))}

    /* Mobile frame to ensure single-page view on any device */
    .frame{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
    .phone{position:relative;width:100vw;height:100dvh;overflow:hidden}

    /* Top-left hamburger */
    .topbar{position:absolute;left:10px;top:10px;z-index:20}
    .hamburger{width:36px;height:36px;border-radius:8px;background:var(--panel);display:grid;place-items:center;border:1px solid var(--border)}
    .hamburger span{display:block;width:18px;height:2px;background:#fff;box-shadow:0 6px 0 #fff,0 -6px 0 #fff}

    /* Music toggle */
    .music{position:absolute;left:10px;bottom:10px;z-index:20;width:36px;height:36px;border-radius:8px;background:var(--panel);display:grid;place-items:center;border:1px solid var(--border);font-size:18px}

    /* Swipe hint */
    .hint{position:absolute;left:0;right:0;bottom:18px;text-align:center;font-size:13px;opacity:.9;z-index:5}

    /* Slider (mobile only interaction) */
    .slider{position:relative;height:100%;width:100%;touch-action:pan-y;overflow:hidden}
    .slides{display:flex;height:100%;transition:transform .45s ease}
    .slide{position:relative;flex:0 0 100%;width:100%;height:100%;padding:24px 18px env(safe-area-inset-bottom);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}

    /* Typography */
    .script{font-family:'Great Vibes',cursive;letter-spacing:.4px}
    .title{font-family:'Playfair Display',Georgia,serif}
    .lg{font-size:44px;line-height:1.08}
    .md{font-size:28px}
    .sm{font-size:18px}
    .muted{color:var(--muted)}

    .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;background:var(--panel2);border-radius:999px;font-size:12px;letter-spacing:.4px;text-transform:uppercase}
    .card{background:var(--panel);border-radius:18px;padding:16px 14px;box-shadow:0 6px 20px rgba(0,0,0,.2);backdrop-filter:saturate(110%) blur(2px)}

    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 14px;border-radius:12px;background:transparent;border:1px solid var(--border);color:#fff;font-weight:600;text-decoration:none}

    /* Dots */
    .dots{position:absolute;left:0;right:0;bottom:var(--dots-y);display:flex;justify-content:center;gap:6px;z-index:5}
    .dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.35)}
    .dot.active{background:#fff}

    /* Icons */
    .icon{font-size:22px;margin-bottom:8px;opacity:.95}

    /* Menu panel */
    .menu{position:absolute;inset:8px;z-index:40;background:rgba(0,0,0,.82);border:2px solid var(--border);border-radius:16px;display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center}
    .menu a{display:block;font-family:'Playfair Display',serif;font-size:24px;margin:12px 0;color:#fff;text-decoration:none}
    .menu .close{position:absolute;left:12px;top:12px;font-size:22px}
    .menu-open .menu{display:flex}

    /* Polaroid */
    .polaroid{background:#f6f6f6;color:#111;border-radius:12px;padding:10px 10px 16px;width:min(280px,82vw);transform:rotate(-6deg);box-shadow:0 10px 26px rgba(0,0,0,.35)}
    .polaroid img{display:block;width:100%;height:360px;object-fit:cover;border-radius:8px}
    .polaroid .cap{text-align:center;margin-top:8px;font-family:'Playfair Display',serif}

    /* Form */
    form{display:grid;gap:10px;width:min(520px, 92%);margin:0 auto;text-align:left}
    label{font-size:12px;opacity:.95}
    input,select,textarea{width:100%;padding:12px 13px;border-radius:12px;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.06);color:#fff;font-size:16px}
    textarea{min-height:104px;resize:vertical}

    .toggle{display:flex;gap:8px;margin:10px auto 12px;width:min(520px,92%)}
    .toggle-btn{flex:1;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.55);background:transparent;color:#fff;font-weight:600}
    .toggle-btn.active{background:rgba(76,175,80,.95);color:#000;border-color:transparent}

    @media (max-width:360px){.lg{font-size:38px}.md{font-size:24px}}
  </style>
</head>
<body>
  <!-- Background slideshow (uses your two uploaded photos) -->
  <div class="bg" aria-hidden="true">
    <img src="images/photo_2025-10-09_11-19-39.jpg" class="active" alt=""/>
    <img src="images/photo_2025-10-09_11-19-49.jpg" alt=""/>
  </div>

  <div class="frame">
    <div class="phone" id="phone">
      <!-- Top-left hamburger -->
      <div class="topbar"><button id="menuBtn" class="hamburger" aria-label="Open menu"><span></span></button></div>
      <!-- Bottom-left music toggle -->
      <button id="musicBtn" class="music" aria-label="Toggle music">‚ô™</button>

      <!-- Menu panel (shows the first 7 pages, as requested) -->
      <nav class="menu" id="menu">
        <button class="close btn" id="closeMenu">‚úï</button>
        <a href="#" data-slide="0">Home</a>
        <a href="#" data-slide="1">Names</a>
        <a href="#" data-slide="2">Invitation</a>
        <a href="#" data-slide="3">Wedding Ceremony</a>
        <a href="#" data-slide="4">Wedding Celebration</a>
        <a href="#" data-slide="5">Gift Registry</a>
        <a href="#" data-slide="6">RSVP</a>
      </nav>

      <!-- Slider -->
      <main class="slider" id="slider" role="region" aria-roledescription="carousel" aria-label="Wedding invitation">
        <section class="slides" id="slides" aria-live="polite">

          <!-- 1. Home -->
          <article class="slide" aria-label="Home">
            <div class="chip">With love</div>
            <h1 class="script lg" style="margin:14px 0 6px;">Joseph &amp; Anna‚ÄëMaria</h1>
            <div class="title sm muted">are getting married</div>
          </article>

          <!-- 2. Names -->
          <article class="slide" aria-label="Names">
            <h2 class="script lg">Joseph</h2>
            <h2 class="script lg" style="margin-top:-6px;">&amp;</h2>
            <h2 class="script lg" style="margin-top:-6px;">Anna‚ÄëMaria</h2>
            <div class="title sm muted" style="margin-top:10px;">are getting married</div>
          </article>

          <!-- 3. Verse & Invitation -->
          <article class="slide" aria-label="Invitation">
            <div class="title sm muted" style="margin-bottom:8px;">"This is my commandment: Love one another as I love you."<br/>‚Äî John 15:12</div>
            <div class="title md" style="margin:12px 0 2px;">With joyous hearts,</div>
            <div class="title md"><strong>Gemayel &amp; Elias families</strong></div>
            <div class="title sm muted" style="margin-top:8px;">request your presence to attend the wedding of</div>
            <div class="script lg" style="margin:14px 0 8px;">Joseph &amp; Anna‚ÄëMaria</div>
            <div class="title sm">on December 6, 2025</div>
            <div class="muted">at 6:30 pm</div>
          </article>

          <!-- 4. Wedding Ceremony -->
          <article class="slide" aria-label="Wedding Ceremony">
            <div class="script md" style="margin-bottom:8px;">Wedding Ceremony</div>
            <div class="icon">‚õ™</div>
            <div class="title sm"><strong>December 6, 2025</strong></div>
            <div class="title sm" style="margin-top:2px;">6:30 pm</div>
            <div class="icon" style="margin-top:10px;">üìç</div>
            <div class="title md"><strong>ŸÉŸÜŸäÿ≥ÿ© ŸÖÿßÿ± ŸÅŸàŸÇÿß ÿ∫ÿØŸäÿ±</strong></div>
            <div class="muted">Ghadir</div>
            <a class="btn" style="margin-top:12px;" target="_blank" rel="noopener" href="https://maps.app.goo.gl/maT4gYYdBWh6UuLH7">Location Map</a>
          </article>

          <!-- 5. Wedding Celebration -->
          <article class="slide" aria-label="Wedding Celebration">
            <div class="script md" style="margin-bottom:8px;">Wedding Celebration</div>
            <div class="icon">ü•Ç</div>
            <div class="title sm"><strong>December 6, 2025</strong></div>
            <div class="title sm" style="margin-top:2px;">9:00 pm</div>
            <div class="icon" style="margin-top:10px;">üìç</div>
            <div class="title md"><strong>ŸÜÿßÿØŸä ÿßŸÑÿ∂ÿ®ÿßÿ∑ ÿ¨ŸàŸÜŸäÿ©</strong></div>
            <div class="muted">Jounieh, Lebanon</div>
            <a class="btn" style="margin-top:12px;" target="_blank" rel="noopener" href="https://maps.app.goo.gl/ykKRpVrUQr2jbCAt5">Location Map</a>
          </article>

          <!-- 6. Gift Registry -->
          <article class="slide" aria-label="Gift Registry">
            <div class="script md" style="margin-bottom:8px;">Gift Registry</div>
            <div class="title sm" style="max-width:86%;">Your presence is the only gift we truly need. But if you wish to bless us further, our wedding registry can be found at:</div>
            <div class="title md" style="margin-top:12px;"><strong>Whish Money, All Branches</strong></div>
            <div class="title sm">Account ID: __________</div>
          </article>

          <!-- 7. RSVP -->
          <article class="slide" aria-label="RSVP">
            <div class="title sm" style="margin-bottom:8px;">Kindly reply by <strong>Nov 25</strong></div>
            <div class="title sm muted" style="margin-bottom:12px;">Number of Invitees: <strong>2</strong></div>

            <div class="toggle" role="tablist" aria-label="Attendance">
              <button type="button" class="toggle-btn active" data-value="Attending">Attending</button>
              <button type="button" class="toggle-btn" data-value="Not Attending">Not Attending</button>
            </div>

            <form id="rsvp" action="https://formspree.io/f/mblzazgw" method="POST" novalidate>
              <input type="hidden" name="invite" value="Joseph & Anna‚ÄëMaria ‚Äî 6 Dec 2025" />
              <input type="hidden" name="attending" id="attending" value="Attending" />

              <label>Number of Guests Attending
                <select name="guests" id="guests">
                  <option value="1">1</option>
                  <option value="2" selected>2</option>
                </select>
              </label>

              <label>Guest #1<input name="guest1" id="guest1" placeholder="Full name" required /></label>
              <label id="guest2-wrap">Guest #2<input name="guest2" id="guest2" placeholder="Full name" required /></label>
              <label>Phone Number<input name="phone" inputmode="tel" placeholder="+961 ‚Ä¶" /></label>
              <button class="btn" type="submit">Press To Confirm</button>
            </form>
            <div id="thanks" class="card" style="display:none;margin-top:10px;">Thank you! Your RSVP has been received.</div>
          </article>

          <!-- 8. Final Photo / Polaroid (not in the menu, swipe-only) -->
          <article class="slide" aria-label="Final">
            <div class="polaroid">
              <img src="images/photo_2025-10-09_11-19-49.jpg" alt="Together forever"/>
              <div class="cap">‚ô°Together forever‚ô°</div>
            </div>
            <div class="title sm" style="position:absolute;bottom:70px;left:0;right:0;opacity:.9;">Made by InviteMe</div>
          </article>

        </section>
        <div class="dots" id="dots" aria-hidden="true"></div>
        <div class="hint">Swipe Left</div>
      </main>
    </div>
  </div>

  <!-- Background music -->
  <audio id="bgm" src="invite-music.mp3" preload="auto" loop autoplay playsinline></audio>

  <script>
    // ===== Background slideshow (2 photos, 5s each) =====
    const bgImgs = Array.from(document.querySelectorAll('.bg img'));
    let bgIndex = 0; setInterval(()=>{bgImgs[bgIndex].classList.remove('active');bgIndex=(bgIndex+1)%bgImgs.length;bgImgs[bgIndex].classList.add('active');},5000);

    // ===== Slider logic (mobile-first) =====
    const slidesEl = document.getElementById('slides');
    const slides = Array.from(slidesEl.querySelectorAll('.slide'));
    slidesEl.style.width = `${slides.length * 100}vw`; // each page shows separately
    const dotsEl = document.getElementById('dots');
    let index = 0, startX=0, curX=0, dragging=false;

    function renderDots(){ dotsEl.innerHTML = ''; slides.forEach((_,i)=>{ const d=document.createElement('div'); d.className='dot' + (i===index?' active':''); dotsEl.appendChild(d); }); }
    function updateSlider(){ slidesEl.style.transform = `translateX(-${index*100}vw)`; Array.from(dotsEl.children).forEach((d,i)=>d.classList.toggle('active', i===index)); }
    renderDots(); updateSlider();

    const slider = document.getElementById('slider');
    slider.addEventListener('touchstart',e=>{dragging=true;startX=e.touches[0].clientX;curX=startX;},{passive:true});
    slider.addEventListener('touchmove',e=>{if(!dragging) return; curX=e.touches[0].clientX;},{passive:true});
    slider.addEventListener('touchend',()=>{ if(!dragging) return; dragging=false; const dx=curX-startX; if(dx<-40 && index<slides.length-1) index++; else if(dx>40 && index>0) index--; updateSlider();});

    // ===== Menu (shows 7 titles; navigates to slides 0..6) =====
    const phone = document.getElementById('phone');
    const menu = document.getElementById('menu');
    document.getElementById('menuBtn').addEventListener('click',()=>phone.classList.add('menu-open'));
    document.getElementById('closeMenu').addEventListener('click',()=>phone.classList.remove('menu-open'));
    menu.querySelectorAll('a[data-slide]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault(); index=Number(a.dataset.slide)||0; updateSlider(); phone.classList.remove('menu-open');}));

    // ===== Music toggle =====
    const audio = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicBtn');
    function tryPlay(){ audio.play().catch(()=>{}); }
    tryPlay(); ['touchstart','mousedown','keydown'].forEach(ev=>window.addEventListener(ev,function once(){tryPlay();window.removeEventListener(ev,once)},{passive:true}));
    function refreshMusicIcon(){ musicBtn.textContent = audio.paused ? '‚ô´' : '‚ô™'; }
    musicBtn.addEventListener('click',()=>{ if(audio.paused) audio.play(); else audio.pause(); refreshMusicIcon(); });
    audio.addEventListener('play',refreshMusicIcon); audio.addEventListener('pause',refreshMusicIcon); refreshMusicIcon();

    // ===== RSVP toggle logic =====
    const attendingHidden = document.getElementById('attending');
    const guestsSel = document.getElementById('guests');
    const guest2Wrap = document.getElementById('guest2-wrap');
    const guest1 = document.getElementById('guest1');
    const guest2 = document.getElementById('guest2');
    function syncGuestsUI(){ const attending = attendingHidden?.value||'Attending'; const two = guestsSel?.value==='2'; if(attending==='Not Attending'){ guestsSel.disabled=true; guest2Wrap.style.display='none'; guest1.required=false; guest2.required=false; } else { guestsSel.disabled=false; guest2Wrap.style.display=two?'block':'none'; guest1.required=true; guest2.required=two; } }
    document.querySelectorAll('.toggle-btn').forEach(btn=>btn.addEventListener('click',()=>{document.querySelectorAll('.toggle-btn').forEach(b=>b.classList.remove('active')); btn.classList.add('active'); attendingHidden.value = btn.dataset.value; syncGuestsUI();}));
    guestsSel?.addEventListener('change',syncGuestsUI); syncGuestsUI();
  </script>
</body>
</html>
